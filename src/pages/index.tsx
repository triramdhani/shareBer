import PrimaryLayout from '@/components/layouts/primary/PrimaryLayout'
import Header from '@/components/section/Header/Header'
import Head from 'next/head'
import { createRef, useState } from 'react'
import { NextPageWithLayout } from './page'

const Home: NextPageWithLayout = () => {
  const inputRef = createRef<HTMLInputElement>()
  const [fileValue, setFileValue] = useState('')
  const handleInput = async (e: any) => {
    e.preventDefault()
    console.log(fileValue)
  }
  return (
    <>
      <Head>
        <title>Next Starterkit</title>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <main className=' flex justify-center '>
        <div className='px-3 py-6 mt-6 border border-dotted border-slate-600 rounded'>
          <form action='' onSubmit={handleInput} className='text-center'>
            <input
              type='file'
              name='file'
              id='file'
              ref={inputRef}
              onChange={(e) => setFileValue(e.currentTarget.value)}
            />
            <br />
            <button type='submit' className='border px-3 py-1 mt-2 rounded bg-blue-500 text-white'>
              Upload
            </button>
          </form>
        </div>
      </main>
    </>
  )
}

export default Home

Home.getLayout = (page) => {
  return (
    <PrimaryLayout>
      <Header />
      {page}
    </PrimaryLayout>
  )
}
